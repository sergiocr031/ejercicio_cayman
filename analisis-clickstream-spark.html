<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Análisis Clickstream — Apache Spark</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #4f46e5;
      --bg2: #7c3aed;
      --card: rgba(255,255,255,0.95);
      --muted: #64748b;
      --glass: rgba(255,255,255,0.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding-bottom:40px;
    }

    .page {
      max-width: 960px;
      margin: 36px auto;
      padding: 20px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border-radius: 14px;
      box-shadow: 0 10px 40px rgba(2,6,23,0.35);
      color: #0f172a;
    }

    header.top {
      background: linear-gradient(90deg,var(--bg1),var(--bg2));
      color: white;
      padding: 28px;
      border-radius: 10px;
      text-align: left;
      margin-bottom: 18px;
    }
    header.top h1{ margin:0; font-size:1.6rem }
    header.top p{ margin:6px 0 0; opacity:0.95 }

    .row { display:flex; gap:18px; flex-wrap:wrap; align-items:flex-start; }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 6px 20px rgba(2,6,23,0.12);
      flex:1 1 320px;
    }

    .visual-card{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
    }

    .visual-card img{
      max-width:100%;
      border-radius:8px;
      border:1px solid rgba(15,23,42,0.06);
      background: white;
    }

    table{
      width:100%;
      border-collapse:collapse;
      margin-top: 12px;
      font-size: 0.95rem;
    }
    th, td{
      padding: 10px 12px;
      text-align:left;
      border-bottom: 1px solid #eef2f7;
    }
    th{ background: linear-gradient(90deg,#f8fafc,#fff); text-transform:none; font-weight:600; color:#0f172a }
    tfoot td{ font-weight:700; }

    .muted { color: var(--muted); font-size:0.95rem }
    .badge { display:inline-block; padding:6px 12px; border-radius:999px; background:linear-gradient(90deg,#eef2ff,#f6ebff); color: #4f46e5; font-weight:600; margin-right:6px; font-size:0.85rem }

    .actions { margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }
    .btn {
      display:inline-block;
      padding: 10px 14px;
      border-radius:10px;
      text-decoration:none;
      font-weight:600;
      cursor:pointer;
      border: none;
    }
    .btn-primary{
      background: linear-gradient(90deg,var(--bg1),var(--bg2));
      color: white;
      box-shadow: 0 8px 18px rgba(124,58,237,0.18);
    }
    .btn-ghost{
      background: transparent;
      color: white;
      border: 1px solid rgba(255,255,255,0.18);
    }

    .conclusion { margin-top:12px; color:#0f172a; line-height:1.6 }

    footer.page-foot{
      margin-top:18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    footer small{ color: #0f172a; opacity:0.7 }
    @media(max-width:720px){
      .row{ flex-direction:column; }
    }
  </style>
</head>
<body>
  <div class="page" role="main">
    <header class="top">
      <h1>Análisis de Datos con Apache Spark</h1>
      <p>Simulación de análisis de clickstream (eventos cada 5 segundos, agregados en ventanas de 1 minuto).</p>
    </header>

    <div class="row">
      <!-- Visual / Gráfica -->
      <div class="card visual-card" style="flex: 1 1 540px;">
        <div style="width:100%; text-align:left;">
          <span class="badge">Proyecto</span>
          <strong style="display:block; margin-top:8px; font-size:1.05rem">Clics por usuario (ventanas de 1 minuto)</strong>
          <p class="muted" style="margin:8px 0 12px">Datos agregados: eventos cada 5s → ventanas de 1 minuto</p>
        </div>

        
        <img src="/assets/images/resultado.png" alt="Gráfica: Clics por usuario (ventanas de 1 minuto)">


        <div class="actions" style="margin-top:12px;">
          
          <a class="btn btn-ghost" href="../index.html">← Volver al blog</a>
        </div>
      </div>

      <!-- Datos / Tabla y Resumen -->
      <div class="card" style="flex: 1 1 360px;">
        <h3 style="margin:0 0 8px 0">Resumen rápido</h3>
        <p class="muted" style="margin:0 0 12px;">
          Los eventos se registran cada 5 segundos. Aquí mostramos los clics agregados por usuario en ventanas de 1 minuto.
          La tabla siguiente está reconstruida a partir del gráfico que subiste.
        </p>

        <!-- Tabla reconstruida -->
        <div id="tabla" style="margin-top:8px; overflow:auto;">
          <table aria-label="Clics por usuario y ventana">
            <thead>
              <tr>
                <th>Usuario</th>
                <th>Ventana 12:00:00 - 12:01:00</th>
                <th>Ventana 12:01:00 - 12:02:00</th>
                <th>Ventana 12:02:00 - 12:03:00</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>user_1</strong></td>
                <td>2</td>
                <td>0</td>
                <td>1</td>
                <td>3</td>
              </tr>
              <tr>
                <td><strong>user_2</strong></td>
                <td>0</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
              </tr>
              <tr>
                <td><strong>user_3</strong></td>
                <td>0</td>
                <td>2</td>
                <td>0</td>
                <td>2</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Total por ventana</td>
                <td>2</td>
                <td>2</td>
                <td>2</td>
                <td>6 (total eventos)</td>
              </tr>
            </tfoot>
          </table>
        </div>

        <div class="conclusion" style="margin-top:12px;">
          <strong>Interpretación breve</strong>
          <p style="margin:8px 0 0;">
            - <strong>user_1</strong> es el usuario más activo (3 clics totales).<br>
            - <strong>user_3</strong> mostró actividad concentrada en la segunda ventana (12:01), lo que sugiere una ráfaga breve.<br>
            - <strong>user_2</strong> tuvo actividad mínima (1 clic en la última ventana).
          </p>
        </div>
      </div>
    </div>

    <!-- Análisis extendido -->
    <section class="card" style="margin-top:18px;">
      <h3 style="margin-top:0">Análisis y recomendaciones (interpretación práctica)</h3>

      <ol style="margin:12px 0 0 18px; color:#0f172a; line-height:1.6">
        <li><strong>Detección de ráfagas:</strong> La presencia de picos en ventanas concretas (ej. user_3 en 12:01) sugiere sesiones cortas con alta interacción — útil para activar ofertas flash o mediciones de conversión en tiempo real.</li>
        <li><strong>Segmentación temprana:</strong> Con solo 6 eventos totales es preliminar, pero ya podrás etiquetar usuarios como <em>activo</em> (user_1), <em>ocasional</em> (user_3) y <em>poco activo</em> (user_2) para pruebas A/B.</li>
        <li><strong>Escalado y alertas:</strong> En producción, si detectas ventanas con incrementos súbitos de clics, configura alertas para auto-escalado o caching preventivo.</li>
        <li><strong>Siguientes pasos técnicos:</strong> - Probar la ingestión real con Kafka → Spark Structured Streaming. - Calcular métricas por sliding windows (p. ej. 1m con slide 5s). - Guardar agregados en una tabla de resumen para dashboard.</li>
      </ol>
    </section>

    <footer class="page-foot">
      <small>Autor: <strong>Sergio Carvajal</strong> · Proyecto: Análisis Clickstream · Fecha: (simulada)</small>
      <div>
        <a class="btn btn-primary" href="index.html">← Volver al inicio</a>
        <a class="btn btn-ghost" href="https://github.com/sergiocr031" target="_blank" rel="noopener">Ver GitHub</a>
      </div>
    </footer>
  </div>
</body>
</html>
